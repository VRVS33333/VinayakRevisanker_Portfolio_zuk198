[
  {
    "objectID": "Exercise 5/HW 5 by Vinayak Revisanker.html",
    "href": "Exercise 5/HW 5 by Vinayak Revisanker.html",
    "title": "HW 5, CDC Exercise",
    "section": "",
    "text": "Deaths due to COVID from ages 0-18. Downloaded from the CDC website https://data.cdc.gov/NCHS/Provisional-COVID-19-Deaths-Focus-on-Ages-0-18-Yea/nr4s-juj3/data_preview\nLibraries\n\nset.seed(200)\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(ggplot2)\n\n\nDeaths = read.csv(\"Provisional_COVID-19_Deaths__Focus_on_Ages_0-18_Years.csv\", header=TRUE)\ndplyr::glimpse(Deaths)\n\nRows: 29\nColumns: 8\n$ Data.as.of                    &lt;chr&gt; \"06/28/2023\", \"06/28/2023\", \"06/28/2023\"…\n$ Age.group                     &lt;chr&gt; \"0-4 years\", \"5-18 years\", \"19-44 years\"…\n$ COVID.19.Deaths               &lt;int&gt; 776, 1071, 44690, 230021, 254951, 604543…\n$ Indicator                     &lt;chr&gt; \"Age\", \"Age\", \"Age\", \"Age\", \"Age\", \"Age\"…\n$ Sex                           &lt;chr&gt; \"All\", \"All\", \"All\", \"All\", \"All\", \"All\"…\n$ Race.or.Hispanic.Origin.Group &lt;chr&gt; \"All\", \"All\", \"All\", \"All\", \"All\", \"All\"…\n$ Start.Week                    &lt;chr&gt; \"01/04/2020\", \"01/04/2020\", \"01/04/2020\"…\n$ End.Week                      &lt;chr&gt; \"06/24/2023\", \"06/24/2023\", \"06/24/2023\"…\n\n\nShows the the total amount of deaths from covid between ages 0-18\n\nresult = Deaths %&gt;% \n  group_by(Age = as.factor(Age.group)) %&gt;% \n  summarize(Total = sum(COVID.19.Deaths)) %&gt;% \n  arrange(desc(Total)) %&gt;% \n  filter(Age != \"19-44 years\") %&gt;% \n  filter(Age != \"45-64 years\") %&gt;% \n  filter(Age != \"65-74 years\") %&gt;% \n  filter(Age != \"75 years and over\") %&gt;% \n  top_n(10, wt = Total)\n\nggplot(result, aes(x=Age, y=Total))+\n    geom_bar(stat = \"identity\", fill = \"Purple\")\n\n\n\n\n\n\n\n\nSeperating Race\n\nDeaths = Deaths %&gt;%  filter(Race.or.Hispanic.Origin.Group == \"Non-Hispanic Asian\")\nsummary(Deaths)\n\n  Data.as.of         Age.group         COVID.19.Deaths  Indicator        \n Length:2           Length:2           Min.   :26.00   Length:2          \n Class :character   Class :character   1st Qu.:29.75   Class :character  \n Mode  :character   Mode  :character   Median :33.50   Mode  :character  \n                                       Mean   :33.50                     \n                                       3rd Qu.:37.25                     \n                                       Max.   :41.00                     \n     Sex            Race.or.Hispanic.Origin.Group  Start.Week       \n Length:2           Length:2                      Length:2          \n Class :character   Class :character              Class :character  \n Mode  :character   Mode  :character              Mode  :character  \n                                                                    \n                                                                    \n                                                                    \n   End.Week        \n Length:2          \n Class :character  \n Mode  :character  \n                   \n                   \n                   \n\n\n\nggplot(Deaths, aes(x = Start.Week, y = COVID.19.Deaths))+\n    geom_bar(stat = \"identity\", fill = \"Purple\")\n\n\n\n\n\n\n\n\n\nThis section contributed by Tim Harrison.\n\nlibrary(synthpop)\n\nFind out more at https://www.synthpop.org.uk/\n\n# Set seed for reproducibility\nset.seed(200)\n\n# Load the filtered data\nDeaths &lt;- read.csv(\"Provisional_COVID-19_Deaths__Focus_on_Ages_0-18_Years.csv\", header = TRUE)\n\n# Glimpse of the original data\ndplyr::glimpse(Deaths)\n\nRows: 29\nColumns: 8\n$ Data.as.of                    &lt;chr&gt; \"06/28/2023\", \"06/28/2023\", \"06/28/2023\"…\n$ Age.group                     &lt;chr&gt; \"0-4 years\", \"5-18 years\", \"19-44 years\"…\n$ COVID.19.Deaths               &lt;int&gt; 776, 1071, 44690, 230021, 254951, 604543…\n$ Indicator                     &lt;chr&gt; \"Age\", \"Age\", \"Age\", \"Age\", \"Age\", \"Age\"…\n$ Sex                           &lt;chr&gt; \"All\", \"All\", \"All\", \"All\", \"All\", \"All\"…\n$ Race.or.Hispanic.Origin.Group &lt;chr&gt; \"All\", \"All\", \"All\", \"All\", \"All\", \"All\"…\n$ Start.Week                    &lt;chr&gt; \"01/04/2020\", \"01/04/2020\", \"01/04/2020\"…\n$ End.Week                      &lt;chr&gt; \"06/24/2023\", \"06/24/2023\", \"06/24/2023\"…\n\n# Generate synthetic data using the synthpop package\n# The synthpop package generates synthetic data that retains the statistical properties of the original data.\nsynth_data &lt;- syn(Deaths, seed = 123)\n\nCAUTION: Your data set has fewer observations (29) than we advise.\nWe suggest that there should be at least 180 observations\n(100 + 10 * no. of variables used in modelling the data).\nPlease check your synthetic data carefully with functions\ncompare(), utility.tab(), and utility.gen().\n\n\nVariable(s): Data.as.of, Age.group, Indicator, Sex, Race.or.Hispanic.Origin.Group, Start.Week, End.Week have been changed for synthesis from character to factor.\nVariable Data.as.of has only one value so its method has been changed to \"constant\".\nVariable Data.as.of removed as predictor because only one value.\nVariable Start.Week has only one value so its method has been changed to \"constant\".\nVariable Start.Week removed as predictor because only one value.\nVariable End.Week has only one value so its method has been changed to \"constant\".\n\nMethod \"cart\" is not valid for a variable without predictors (Age.group)\nMethod has been changed to \"sample\"\n\n\nSynthesis\n-----------\n Data.as.of Age.group COVID.19.Deaths Indicator Sex Race.or.Hispanic.Origin.Group Start.Week End.Week\n\n# Extract the synthetic data\nsynthetic_data &lt;- synth_data$syn\n\n# View the structure of the synthetic data\nstr(synthetic_data)\n\n'data.frame':   29 obs. of  8 variables:\n $ Data.as.of                   : chr  \"06/28/2023\" \"06/28/2023\" \"06/28/2023\" \"06/28/2023\" ...\n $ Age.group                    : chr  \"0-4 years\" \"0-4 years\" \"0-4 years\" \"19-44 years\" ...\n $ COVID.19.Deaths              : num  357 776 8 604543 483 ...\n $ Indicator                    : chr  \"Age\" \"Sex\" \"Race and Hispanic Origin\" \"Sex\" ...\n $ Sex                          : chr  \"All\" \"All\" \"All\" \"All\" ...\n $ Race.or.Hispanic.Origin.Group: chr  \"All\" \"All\" \"Unknown\" \"All\" ...\n $ Start.Week                   : chr  \"01/04/2020\" \"01/04/2020\" \"01/04/2020\" \"01/04/2020\" ...\n $ End.Week                     : chr  \"06/24/2023\" \"06/24/2023\" \"06/24/2023\" \"06/24/2023\" ...\n\n# Summarize synthetic data\nsummary(synthetic_data)\n\n  Data.as.of         Age.group         COVID.19.Deaths   Indicator        \n Length:29          Length:29          Min.   :     3   Length:29         \n Class :character   Class :character   1st Qu.:     9   Class :character  \n Mode  :character   Mode  :character   Median :   256   Mode  :character  \n                                       Mean   : 40822                     \n                                       3rd Qu.:   588                     \n                                       Max.   :604543                     \n     Sex            Race.or.Hispanic.Origin.Group  Start.Week       \n Length:29          Length:29                     Length:29         \n Class :character   Class :character              Class :character  \n Mode  :character   Mode  :character              Mode  :character  \n                                                                    \n                                                                    \n                                                                    \n   End.Week        \n Length:29         \n Class :character  \n Mode  :character  \n                   \n                   \n                   \n\n# Create summary table for synthetic data\nsynthetic_summary &lt;- synthetic_data %&gt;%\n  group_by(Age.group) %&gt;%\n  summarize(Total.Deaths = sum(COVID.19.Deaths))\n\n# Plot the total deaths by age group for synthetic data\nggplot(synthetic_summary, aes(x = Age.group, y = Total.Deaths)) +\n  geom_bar(stat = \"identity\", fill = \"Purple\") +\n  ggtitle(\"Synthetic Data: Total COVID-19 Deaths by Age Group (0-18 years)\") +\n  xlab(\"Age Group\") +\n  ylab(\"Total Deaths\")\n\n\n\n\n\n\n\n# Filter synthetic data for Non-Hispanic Asian group\nsynthetic_asian &lt;- synthetic_data %&gt;%\n  filter(Race.or.Hispanic.Origin.Group == \"Non-Hispanic Asian\")\n\n# Summarize and plot synthetic data for Non-Hispanic Asian group\nggplot(synthetic_asian, aes(x = Start.Week, y = COVID.19.Deaths)) +\n  geom_bar(stat = \"identity\", fill = \"Purple\") +\n  ggtitle(\"Synthetic Data: COVID-19 Deaths for Non-Hispanic Asian (0-18 years)\") +\n  xlab(\"Start Week\") +\n  ylab(\"Total Deaths\")"
  }
]